<%- include("partials/header.ejs") %>

<nav class="navbar navbar-light bg-light">
    <div class="container" id="yuh">
      <span class="navbar-brand">
        <img src="/images/IGDBSearchLogo.svg" alt="" width="30" height="30"> 
      </span>
      <form method="GET" action="/">
        <div class="input-group">
        <input id="searchPostGame" type="text" class="form-control form-control-lg"
            placeholder="Search All Games" id="searchtext"
            name="like" value="">
            <div class="input-group-append">
                <button class="btn btn-primary btn-lg ms-1" type="submit" id="search-button">Search</button>
            </div>
        </div>
       </form>
    </div>
  </nav>

  <div class="container mt-5  overflow-hidden px-4" id="gameContainer">
    <div class="row gx-5">
        <div class="col-md-4">
            <div class="p-2">
                <img src="<%=gameData.cover.replace("t_thumb","t_720p")%>"" id="gameCover" class="img-fluid"/>
            </div>
        </div>
        <div class="col-md-8">
            <div class="p-3">
                <h1 id="gameTitle"><%=gameData.name%></h1>
                <p id="gameSummary"><%=gameData.summary%></p>
            </div>
        </div>
    </div>
    <div class="row gx-5 mt-3">
        <div class="col-md-4">
            <div class="p-3">
                <h2>Genres</h2>
                <% if(!gameData.genres|| gameData.genres.length == 0){%>
                    <div class="no-data"><p>No data found</p></div>
                <%}%> 
                
                <ul id="gameGenres">
                <% for(let genre of gameData.genres){%>
                    <li><%=genre.name%></li>
                    
                    <%}%>
                </ul>
            </div>        
        </div>
        <div class="col-md-4">
            <div class="p-3">
                <h2>Game Mode</h2>
                <% if(!gameData.gameModes|| gameData.gameModes.length == 0){%>
                    <div class="no-data"><p>No data found</p></div>
                <%}%> 
                
                <ul id="gameModes">
                <% for(let mode of gameData.gameModes){%>
                    <li><%=mode.name%></li>
                    
                    <%}%>
                </ul>
            </div>
        </div>
        <div class="col-md-4">
            <div class="p-3">
                <h2>Platforms</h2>
                <% if(!gameData.platforms){%>
                    <div class="no-data"><p>No data found</p></div>
                <%}%> 
                
                <ul id="gamePlatforms">
                <% for(let platform of gameData.platforms){%>
                    <li><%=platform.name%></li>
                    
                    <%}%>
                </ul>
            </div>

        </div>
    </div>
    <div class="row  gx-5 mt-3">
        <div class="col-md-12">
            <div class="p-3">
                <h2>Characters</h2>
                <% if(!gameData.characters || gameData.characters.length == 0){%>
                    <div class="no-data"><p>No data found</p></div>
                <%}%> 
                
                <ul id="gameCharacters">
                    <% for(let character of gameData.characters){%>
                        <li><%=character.name%></li>
                    <%}%>
                </ul>
            </div>
        </div>
    </div>
    <div class="row  gx-5 mt-3">
        <div class="col-md-12">
            <div class="p-3">
                <h2>Websites</h2>
                <% if(!gameData.websites|| gameData.websites.length == 0){%>
                    <div class="no-data"><p>No data found</p></div>
                <%}%> 
                
                <ul id="gameWebsites">
                    <% for(let website of gameData.websites){%>
                        <li><%=website.url%></li>
                    <%}%>
                </ul>
            </div>
        </div>
    </div>
    <div class="row  gx-5 mt-3" >
        <div class="col-md-12">
            <div class="p-3">
                <h2>Screenshots</h2>
                <% if(!gameData.screenshots|| gameData.screenshots.length == 0){%>
                    <div class="no-data"><p>No data found</p></div>
                <%}%> 
                
                <ul id="gameScreenshots">
                    <% for(let screenshot of gameData.screenshots){%>
                        <li><img src="<%=screenshot.url.replace("t_thumb","t_720p")%>" style="max-width:500px;"></li>
                    <%}%>
                </ul>
            </div>
        </div>
    </div>
    <div class="row  gx-5 mt-3" >
        <div class="col-md-12">
            <div class="p-3">
                <h2>Similar Games</h2>
                <% if(!gameData.similarGames|| gameData.similarGames.length == 0){%>
                    <div class="no-data"><p>No data found</p></div>
                <%}%> 
                
                <ul id="gameWebsites">
                    <% for(let similarGame of gameData.similarGames){%>
                        <li>
                            <a href="/game/<%=similarGame.game_id %>" class="unstyled-link text-decoration-none">
                            <div class="card">
                              <div class="row">
                                <div class="col-md-2">
                                  <img src="<%=similarGame.cover_url.replace("t_thumb","t_720p")%>" alt="" class="card-img">
                                </div>
                                <div class="col-md-10">
                                  <div class="card-body">
                                    <h5 class="card-title"><%=similarGame.name%></h5>
                                    <p class="card-text"><%=similarGame.summary%></p>
                                  </div>
                                </div>
                              </div>
                            </div>
                            </a>
                        </li>
                    <%}%>
                </ul>
            </div>
        </div>
    </div>
</div>


 

<%- include("partials/footer.ejs") %>